{"code":"(this.webpackJsonpcliente=this.webpackJsonpcliente||[]).push([[0],{30:function(e,t,n){},39:function(e,t,n){},46:function(e,t,n){},48:function(e,t,n){\"use strict\";n.r(t);var c=n(1),o=n.n(c),i=n(25),s=n.n(i),r=(n(39),n(7)),a=n(47).connect(\"wss://tarea-3-websocket.2021-2.tallerdeintegracion.cl\",{path:\"/trucks\"}),j=n(0),d=function(e){var t=e.username,n=Object(c.useState)(\"\"),o=Object(r.a)(n,2),i=o[0],s=o[1],d=Object(c.useState)([]),u=Object(r.a)(d,2),l=u[0],b=u[1],O=Object(c.useState)([]),f=Object(r.a)(O,2),h=(f[0],f[1],Object(c.useState)([[]])),p=Object(r.a)(h,2);p[0],p[1];Object(c.useEffect)((function(){return a.on(\"CHAT\",(function(e){var t=e.date,n=e.message,c=e.name;b(l.concat({date:t,message:n,name:c}))})),function(){a.off(\"CHAT\")}}),[l]);return Object(j.jsxs)(\"div\",{className:\"chat_todo\",children:[Object(j.jsx)(\"div\",{children:Object(j.jsx)(\"h2\",{children:\"Chat\"})}),Object(j.jsx)(\"div\",{className:\"chat\",children:l.map((function(e,t){return Object(j.jsx)(\"div\",{children:Object(j.jsxs)(\"div\",{children:[\"[\",Date(e.date),\"] -- \",e.name,\": \",e.message]})},t)}))}),Object(j.jsxs)(\"form\",{className:\"chat_form\",onSubmit:function(e){e.preventDefault(),a.emit(\"CHAT\",{message:i,name:t}),s(\"\")},children:[Object(j.jsx)(\"label\",{htmlFor:\"\",children:\" Escriba su mensaje :\"}),Object(j.jsx)(\"textarea\",{name:\"\",id:\"\",cols:\"30\",value:i,onChange:function(e){return s(e.target.value)}}),Object(j.jsx)(\"button\",{children:\" Enviar mensaje\"})]})]})},u=n(23),l=n(50),b=n(54),O=n(51),f=n(52),h=n(53),p=n(9),x=n.n(p),v=(n(46),n(30),n.p+\"static/media/minetruck.9d33f62e.png\"),m=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],o=t[1],i=Object(c.useState)([[]]),s=Object(r.a)(i,2),d=s[0],p=s[1],m=new x.a.Icon({iconUrl:v,iconRetinaUrl:v,popupAnchor:[-0,-0],iconSize:[32,45]});Object(c.useEffect)((function(){return a.on(\"TRUCKS\",(function(e){var t,c=Object(u.a)(e);try{for(c.s();!(t=c.n()).done;){var i=t.value;void 0==i.position&&(i.position=[0,0]),void 0==i.status&&(i.status=\"Unknown\")}}catch(s){c.e(s)}finally{c.f()}o(n.concat(e))})),function(){a.off(\"TRUCKS\")}}),[n]),Object(c.useEffect)((function(){return a.on(\"POSITION\",(function(e){p(d.concat([{code:e.code,position:e.position}]));var t=n.find((function(t){return t.code===e.code}));void 0===t?(console.log(\"[POSITION] codigo camion buscado: \"+e.code),console.log(\"[POSITION]  Truck not found\")):t.position=e.position})),function(){a.off(\"POSITION\")}})),Object(c.useEffect)((function(){return a.on(\"FAILURE\",(function(e){var t=e.code,c=e.source,o=n.find((function(e){return e.code===t}));if(void 0==typeof o)return\"Truck not found\";o.status=c})),function(){a.off(\"FAILURE\")}})),Object(c.useEffect)((function(){return a.on(\"FIX\",(function(e){var t=n.find((function(t){return t.code===e.code}));if(void 0===typeof t)return console.log(\"[MAP] entrando a tooltip\"),\"Truck not found\";t.status=\"Ok\"})),function(){a.off(\"FIX\")}}));var g=function(e){var t=n.find((function(t){return t.code===e}));return console.log(\"[truckInfo] entrando a la funcion con: \"+t.code),void 0===t?\"Truck not found\":Object(j.jsxs)(\"div\",{children:[Object(j.jsxs)(\"p\",{children:[\"'Truck:' \",t.truck]}),Object(j.jsx)(\"br\",{}),Object(j.jsxs)(\"p\",{children:[\"'Code: '\",t.code]}),Object(j.jsx)(\"br\",{}),Object(j.jsxs)(\"p\",{children:[\"'Origin: '\",t.origin,\"'\"]}),Object(j.jsx)(\"br\",{}),Object(j.jsxs)(\"p\",{children:[\"Destination: '\",t.destination]}),Object(j.jsx)(\"br\",{}),Object(j.jsxs)(\"p\",{children:[\"'Actual Position: '\",t.position]}),Object(j.jsx)(\"br\",{}),Object(j.jsxs)(\"p\",{children:[\"'Status: '\",t.status]}),\" \",Object(j.jsx)(\"br\",{})]})};return Object(j.jsxs)(\"div\",{children:[Object(j.jsx)(\"div\",{className:\"mapArea\",children:Object(j.jsxs)(l.a,{center:[-21.976193,-68.79],zoom:11,scrollWheelZoom:!1,children:[Object(j.jsx)(b.a,{attribution:'\\xa9 <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),n.map((function(e){return Object(j.jsx)(\"div\",{children:Object(j.jsx)(O.a,{pathOptions:{color:\"black\"},positions:[e.origin,e.destination]})},e.code)})),n.map((function(e){return console.log(\"[MAP]: primer print posiciones\"+e.code+\"->\"+e.position),void 0===e.position?(console.log(\"[MAP] error encontrando posiciones\"),\"\"):(console.log(\"[MAP] posiciones encontradas: \"+e.code+\"->\"+e.position),console.log(\"[MAP] coordinadas a imprimir: lat: \"+e.position[0]+\"long: \"+e.position[1]),Object(j.jsx)(\"div\",{children:Object(j.jsx)(f.a,{position:[e.position[0],e.position[1]],icon:m,children:Object(j.jsx)(h.a,{children:g(e.code)})})}))}))]})}),Object(j.jsx)(\"div\",{className:\"infoArea\",children:Object(j.jsxs)(\"div\",{className:\"info_titulo\",children:[Object(j.jsx)(\"div\",{children:Object(j.jsx)(\"h2\",{children:\"Trucks Information:\"})}),Object(j.jsx)(\"div\",{className:\"solo_info\",children:n.map((function(e,t){return Object(j.jsx)(\"div\",{children:Object(j.jsx)(\"div\",{children:Object(j.jsxs)(\"div\",{className:\"truckInfo_container\",children:[Object(j.jsxs)(\"div\",{children:[\"Truck: \",e.truck]}),Object(j.jsxs)(\"div\",{children:[\"Code: \",e.code]}),Object(j.jsxs)(\"div\",{children:[\"Origin: \",e.origin,\" \"]}),Object(j.jsxs)(\"div\",{children:[\"Destination: \",e.destination,\" \"]}),Object(j.jsxs)(\"div\",{children:[\"Status: \",e.status,\" \"]}),Object(j.jsx)(\"div\",{children:\"Ok\"!==e.status&&Object(j.jsx)(\"button\",{value:e.code,onClick:function(e){return function(e){console.log(\"[fixTruck] Yo reparando el siguiente camion: \"+e),a.emit(\"FIX\",{code:e})}(e.target.value)},children:\"Fix Truck\"})})]})})},t)}))})]})})]})};var g=function(){var e=Object(c.useState)(\"\"),t=Object(r.a)(e,2),n=t[0],o=t[1],i=Object(c.useState)(!1),s=Object(r.a)(i,2),u=s[0],l=s[1];return Object(j.jsx)(\"div\",{className:\"App\",children:Object(j.jsxs)(\"div\",{className:\"titleArea\",children:[Object(j.jsx)(\"h1\",{align:\"center\",children:\"Tarea 3\"}),!u&&Object(j.jsxs)(\"form\",{className:\"logIn\",onSubmit:function(e){a.emit(\"TRUCKS\"),e.preventDefault(),\"\"!==n&&l(!0)},children:[Object(j.jsx)(\"label\",{children:\" Escoja un nombre de usuario:\"}),Object(j.jsx)(\"input\",{value:n,onChange:function(e){return o(e.target.value)}}),Object(j.jsx)(\"button\",{children:\"Ingresar a la pagina\"})]}),u&&Object(j.jsxs)(\"div\",{className:\"chatArea\",children:[\" \",Object(j.jsx)(d,{username:n}),\" \"]}),u&&Object(j.jsx)(m,{})]})})};s.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById(\"root\"))}},[[48,1,2]]]);","name":"static/js/main.e260071a.chunk.js","map":{"version":3,"sources":["static/js/main.e260071a.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","Socket","connect","path","jsx_runtime","componentes_Chat","_ref","username","_useState","Object","_useState2","mensaje","setMensaje","_useState3","_useState4","mensajes","setMensajes","_useState5","_useState6","_useState7","_useState8","on","_ref2","date","message","name","concat","off","className","children","map","e","i","Date","onSubmit","preventDefault","emit","htmlFor","id","cols","value","onChange","target","createForOfIteratorHelper","MapContainer","TileLayer","Polyline","Marker","Popup","leaflet_src","leaflet_src_default","minetruck","p","componentes_Info","trucks","setTrucks","positions","setPosition","myIcon","a","Icon","iconUrl","iconRetinaUrl","popupAnchor","iconSize","truck","_step","_iterator","s","done","camion","undefined","position","status","err","f","obj","code","find","element","console","log","source","truck_object","truckInfo","origin","destination","center","zoom","scrollWheelZoom","attribution","url","dat","pathOptions","color","data","icon","onClick","fixTruck","src_App","setUsername","registrado","setRegistrado","align","render","StrictMode","document","getElementById"],"mappings":"CAACA,KAA0B,oBAAIA,KAA0B,qBAAK,IAAIC,KAAK,CAAC,CAAC,GAAG,CAEtE,GACA,SAAUC,EAAQC,EAASC,KAM3B,GACA,SAAUF,EAAQC,EAASC,KAM3B,GACA,SAAUF,EAAQC,EAASC,KAM3B,GACA,SAAUF,EAAQG,EAAqBD,GAE7C,aAEAA,EAAoBE,EAAED,GAGtB,IAAIE,EAAQH,EAAoB,GAC5BI,EAA6BJ,EAAoBK,EAAEF,GAGnDG,EAAYN,EAAoB,IAChCO,EAAiCP,EAAoBK,EAAEC,GAMvDE,GAHMR,EAAoB,IAGVA,EAAoB,IAIwHS,EAAzJT,EAAoB,IAAkBU,QAAQ,wDAAwD,CAACC,KAAK,YAE/GC,EAAcZ,EAAoB,GAM49Ba,EAHp/B,SAAcC,GAAM,IAAIC,EAASD,EAAKC,SAAaC,EAAUC,OAAOd,EAAgB,SAAvBc,CAA0B,IAAIC,EAAWD,OAAOT,EAA+B,EAAtCS,CAAyCD,EAAU,GAAGG,EAAQD,EAAW,GAAGE,EAAWF,EAAW,GAAOG,EAAWJ,OAAOd,EAAgB,SAAvBc,CAA0B,IAAIK,EAAWL,OAAOT,EAA+B,EAAtCS,CAAyCI,EAAW,GAAGE,EAASD,EAAW,GAAGE,EAAYF,EAAW,GAAOG,EAAWR,OAAOd,EAAgB,SAAvBc,CAA0B,IAAIS,EAAWT,OAAOT,EAA+B,EAAtCS,CAAyCQ,EAAW,GAAoDE,GAA1CD,EAAW,GAAaA,EAAW,GAAkBT,OAAOd,EAAgB,SAAvBc,CAA0B,CAAC,MAAKW,EAAWX,OAAOT,EAA+B,EAAtCS,CAAyCU,EAAW,GAAaC,EAAW,GAAeA,EAAW,GAAGX,OAAOd,EAAiB,UAAxBc,EAA2B,WAE5oB,OADvER,EAAOoB,GAAG,QAAO,SAASC,GAAO,IAAIC,EAAKD,EAAMC,KAAKC,EAAQF,EAAME,QAAQC,EAAKH,EAAMG,KACtFT,EAAYD,EAASW,OAAO,CAACH,KAAKA,EAAKC,QAAQA,EAAQC,KAAKA,QAAkB,WAAWxB,EAAO0B,IAAI,WAAY,CAACZ,IAC5C,OAAmBN,OAAOL,EAAkB,KAAzBK,CAA4B,MAAM,CAACmB,UAAU,YAAYC,SAAS,CAAcpB,OAAOL,EAAiB,IAAxBK,CAA2B,MAAM,CAACoB,SAAsBpB,OAAOL,EAAiB,IAAxBK,CAA2B,KAAK,CAACoB,SAAS,WAAwBpB,OAAOL,EAAiB,IAAxBK,CAA2B,MAAM,CAACmB,UAAU,OAAOC,SAASd,EAASe,KAAI,SAASC,EAAEC,GAAG,OAAmBvB,OAAOL,EAAiB,IAAxBK,CAA2B,MAAM,CAACoB,SAAsBpB,OAAOL,EAAkB,KAAzBK,CAA4B,MAAM,CAACoB,SAAS,CAAC,IAAII,KAAKF,EAAER,MAAM,QAAQQ,EAAEN,KAAK,KAAKM,EAAEP,YAAYQ,QAAqBvB,OAAOL,EAAkB,KAAzBK,CAA4B,OAAO,CAACmB,UAAU,YAAYM,SAD5e,SAAgBH,GAAGA,EAAEI,iBAC5JlC,EAAOmC,KAAK,OAAO,CAACZ,QAAQb,EAAQc,KAAKlB,IAAWK,EAAW,KAAokBiB,SAAS,CAAcpB,OAAOL,EAAiB,IAAxBK,CAA2B,QAAQ,CAAC4B,QAAQ,GAAGR,SAAS,0BAAuCpB,OAAOL,EAAiB,IAAxBK,CAA2B,WAAW,CAACgB,KAAK,GAAGa,GAAG,GAAGC,KAAK,KAAKC,MAAM7B,EAAQ8B,SAAS,SAAkBV,GAAG,OAAOnB,EAAWmB,EAAEW,OAAOF,UAAwB/B,OAAOL,EAAiB,IAAxBK,CAA2B,SAAS,CAACoB,SAAS,2BAEj8Bc,EAA4BnD,EAAoB,IAGhDoD,EAAepD,EAAoB,IAGnCqD,EAAYrD,EAAoB,IAGhCsD,EAAWtD,EAAoB,IAG/BuD,EAASvD,EAAoB,IAG7BwD,EAAQxD,EAAoB,IAG5ByD,EAAczD,EAAoB,GAClC0D,EAAmC1D,EAAoBK,EAAEoD,GAS5BE,GANvB3D,EAAoB,IAGpBA,EAAoB,IAGgBA,EAAoB4D,EAAI,uCAIw9HC,EAFhhI,WAAgB,IAAI7C,EAAUC,OAAOd,EAAgB,SAAvBc,CAA0B,IAAIC,EAAWD,OAAOT,EAA+B,EAAtCS,CAAyCD,EAAU,GAAG8C,EAAO5C,EAAW,GAAG6C,EAAU7C,EAAW,GAAOG,EAAWJ,OAAOd,EAAgB,SAAvBc,CAA0B,CAAC,KAAKK,EAAWL,OAAOT,EAA+B,EAAtCS,CAAyCI,EAAW,GAAG2C,EAAU1C,EAAW,GAAG2C,EAAY3C,EAAW,GAAO4C,EAAO,IAAIR,EAAoBS,EAAEC,KAAK,CAACC,QAAQV,EAAUW,cAAcX,EAAUY,YAAY,EAAE,GAAG,GAAGC,SAAS,CAAC,GAAG,MAAMvD,OAAOd,EAAiB,UAAxBc,EAA2B,WAAgZ,OAArYR,EAAOoB,GAAG,UAAS,SAAS4C,GAAO,IAA0EC,EAAtEC,EAAU1D,OAAOkC,EAA2C,EAAlDlC,CAAqDwD,GAAa,IAAI,IAAIE,EAAUC,MAAMF,EAAMC,EAAUtE,KAAKwE,MAAM,CAAC,IAAIC,EAAOJ,EAAM1B,WAA0B+B,GAAjBD,EAAOE,WAAqBF,EAAOE,SAAS,CAAC,EAAE,SAAuBD,GAAfD,EAAOG,SAAmBH,EAAOG,OAAO,YAAc,MAAMC,GAAKP,EAAUpC,EAAE2C,GAAM,QAAQP,EAAUQ,IAAKpB,EAAUD,EAAO5B,OAAOuC,OAAkB,WAAWhE,EAAO0B,IAAI,aAAc,CAAC2B,IAAS7C,OAAOd,EAAiB,UAAxBc,EAA2B,WAC98B,OADy9BR,EAAOoB,GAAG,YAAW,SAASuD,GAAKnB,EAAYD,EAAU9B,OAAO,CAAC,CAACmD,KAAKD,EAAIC,KAAKL,SAASI,EAAIJ,aAAa,IAAIP,EAAMX,EAAOwB,MAAK,SAASC,GAAS,OAAOA,EAAQF,OAAOD,EAAIC,aAAmBN,IAARN,GAAmBe,QAAQC,IAAI,qCAAqCL,EAAIC,MAAMG,QAAQC,IAAI,gCAAqChB,EAAMO,SAASI,EAAIJ,YAC3xC,WAAWvE,EAAO0B,IAAI,gBAAiBlB,OAAOd,EAAiB,UAAxBc,EAA2B,WAA4O,OAAjOR,EAAOoB,GAAG,WAAU,SAASf,GAAM,IAAIuE,EAAKvE,EAAKuE,KAAKK,EAAO5E,EAAK4E,OAAWjB,EAAMX,EAAOwB,MAAK,SAASC,GAAS,OAAOA,EAAQF,OAAOA,KAAQ,QAAiBN,UAAPN,EAAkB,MAAM,kBAAwBA,EAAMQ,OAAOS,KAAkB,WAAWjF,EAAO0B,IAAI,eAAgBlB,OAAOd,EAAiB,UAAxBc,EAA2B,WAAgQ,OAArPR,EAAOoB,GAAG,OAAM,SAAS8D,GAAc,IAAIlB,EAAMX,EAAOwB,MAAK,SAASC,GAAS,OAAOA,EAAQF,OAAOM,EAAaN,QAAQ,QAAkBN,WAARN,EAA6D,OAAzCe,QAAQC,IAAI,4BAAmC,kBAAwBhB,EAAMQ,OAAO,QAAgB,WAAWxE,EAAO0B,IAAI,WAAY,IAAIyD,EAAU,SAAmBP,GAAM,IAAIZ,EAAMX,EAAOwB,MAAK,SAASC,GAAS,OAAOA,EAAQF,OAAOA,KAA0E,OAAlEG,QAAQC,IAAI,0CAA0ChB,EAAMY,WAAiBN,IAARN,EAAyB,kBACl2BxD,OAAOL,EAAkB,KAAzBK,CAA4B,MAAM,CAACoB,SAAS,CAAcpB,OAAOL,EAAkB,KAAzBK,CAA4B,IAAI,CAACoB,SAAS,CAAC,YAAYoC,EAAMA,SAAsBxD,OAAOL,EAAiB,IAAxBK,CAA2B,KAAK,IAAiBA,OAAOL,EAAkB,KAAzBK,CAA4B,IAAI,CAACoB,SAAS,CAAC,WAAWoC,EAAMY,QAAqBpE,OAAOL,EAAiB,IAAxBK,CAA2B,KAAK,IAAiBA,OAAOL,EAAkB,KAAzBK,CAA4B,IAAI,CAACoB,SAAS,CAAC,aAAaoC,EAAMoB,OAAO,OAAoB5E,OAAOL,EAAiB,IAAxBK,CAA2B,KAAK,IAAiBA,OAAOL,EAAkB,KAAzBK,CAA4B,IAAI,CAACoB,SAAS,CAAC,iBAAiBoC,EAAMqB,eAA4B7E,OAAOL,EAAiB,IAAxBK,CAA2B,KAAK,IAAiBA,OAAOL,EAAkB,KAAzBK,CAA4B,IAAI,CAACoB,SAAS,CAAC,sBAAsBoC,EAAMO,YAAyB/D,OAAOL,EAAiB,IAAxBK,CAA2B,KAAK,IAAiBA,OAAOL,EAAkB,KAAzBK,CAA4B,IAAI,CAACoB,SAAS,CAAC,aAAaoC,EAAMQ,UAAU,IAAiBhE,OAAOL,EAAiB,IAAxBK,CAA2B,KAAK,QAA+f,OAAmBA,OAAOL,EAAkB,KAAzBK,CAA4B,MAAM,CAACoB,SAAS,CAAcpB,OAAOL,EAAiB,IAAxBK,CAA2B,MAAM,CAACmB,UAAU,UAAUC,SAAsBpB,OAAOL,EAAkB,KAAzBK,CAA4BmC,EAAmC,EAAE,CAAC2C,OAAO,EAAE,WAAW,OAAOC,KAAK,GAAGC,iBAAgB,EAAM5D,SAAS,CAAcpB,OAAOL,EAAiB,IAAxBK,CAA2BoC,EAA6B,EAAE,CAAC6C,YAAY,yEAA2EC,IAAI,uDAAuDrC,EAAOxB,KAAI,SAAS8D,GAAK,OAAmBnF,OAAOL,EAAiB,IAAxBK,CAA2B,MAAM,CAACoB,SAAsBpB,OAAOL,EAAiB,IAAxBK,CAA2BqC,EAA2B,EAAE,CAAC+C,YAAY,CAACC,MAAM,SAAStC,UAAU,CAACoC,EAAIP,OAAOO,EAAIN,gBAAgBM,EAAIf,SAASvB,EAAOxB,KAAI,SAASiE,GAAiF,OAA3Ef,QAAQC,IAAI,iCAAiCc,EAAKlB,KAAK,KAAKkB,EAAKvB,eAA6BD,IAAhBwB,EAAKvB,UAAsBQ,QAAQC,IAAI,sCAA4C,KAASD,QAAQC,IAAI,iCAAiCc,EAAKlB,KAAK,KAAKkB,EAAKvB,UAAUQ,QAAQC,IAAI,sCAAsCc,EAAKvB,SAAS,GAAG,SAASuB,EAAKvB,SAAS,IAAuB/D,OAAOL,EAAiB,IAAxBK,CAA2B,MAAM,CAACoB,SAAsBpB,OAAOL,EAAiB,IAAxBK,CAA2BsC,EAAuB,EAAE,CAACyB,SAAS,CAACuB,EAAKvB,SAAS,GAAGuB,EAAKvB,SAAS,IAAIwB,KAAKtC,EAAO7B,SAAsBpB,OAAOL,EAAiB,IAAxBK,CAA2BuC,EAAqB,EAAE,CAACnB,SAASuD,EAAUW,EAAKlB,qBAAkCpE,OAAOL,EAAiB,IAAxBK,CAA2B,MAAM,CAACmB,UAAU,WAAWC,SAAsBpB,OAAOL,EAAkB,KAAzBK,CAA4B,MAAM,CAACmB,UAAU,cAAcC,SAAS,CAAcpB,OAAOL,EAAiB,IAAxBK,CAA2B,MAAM,CAACoB,SAAsBpB,OAAOL,EAAiB,IAAxBK,CAA2B,KAAK,CAACoB,SAAS,0BAAuCpB,OAAOL,EAAiB,IAAxBK,CAA2B,MAAM,CAACmB,UAAU,YAAYC,SAASyB,EAAOxB,KAAI,SAASC,EAAEC,GAAG,OAAmBvB,OAAOL,EAAiB,IAAxBK,CAA2B,MAAM,CAACoB,SAAsBpB,OAAOL,EAAiB,IAAxBK,CAA2B,MAAM,CAACoB,SAAsBpB,OAAOL,EAAkB,KAAzBK,CAA4B,MAAM,CAACmB,UAAU,sBAAsBC,SAAS,CAAcpB,OAAOL,EAAkB,KAAzBK,CAA4B,MAAM,CAACoB,SAAS,CAAC,UAAUE,EAAEkC,SAAsBxD,OAAOL,EAAkB,KAAzBK,CAA4B,MAAM,CAACoB,SAAS,CAAC,SAASE,EAAE8C,QAAqBpE,OAAOL,EAAkB,KAAzBK,CAA4B,MAAM,CAACoB,SAAS,CAAC,WAAWE,EAAEsD,OAAO,OAAoB5E,OAAOL,EAAkB,KAAzBK,CAA4B,MAAM,CAACoB,SAAS,CAAC,gBAAgBE,EAAEuD,YAAY,OAAoB7E,OAAOL,EAAkB,KAAzBK,CAA4B,MAAM,CAACoB,SAAS,CAAC,WAAWE,EAAE0C,OAAO,OAAoBhE,OAAOL,EAAiB,IAAxBK,CAA2B,MAAM,CAACoB,SAAqB,OAAZE,EAAE0C,QAAqChE,OAAOL,EAAiB,IAAxBK,CAA2B,SAAS,CAAC+B,MAAMT,EAAE8C,KAAKoB,QAAQ,SAAiBtC,GAAG,OAA9hG,SAAkB5B,GAAGiD,QAAQC,IAAI,gDAAgDlD,GAAG9B,EAAOmC,KAAK,MAAM,CAACyC,KAAK9C,IAAy7FmE,CAASvC,EAAEjB,OAAOF,QAASX,SAAS,sBAAsBG,iBAKnjG,IAAImE,EAH57B,WAAmB,IAAI3F,EAAUC,OAAOd,EAAgB,SAAvBc,CAA0B,IAAIC,EAAWD,OAAOT,EAA+B,EAAtCS,CAAyCD,EAAU,GAAGD,EAASG,EAAW,GAAG0F,EAAY1F,EAAW,GAAOG,EAAWJ,OAAOd,EAAgB,SAAvBc,EAA0B,GAAOK,EAAWL,OAAOT,EAA+B,EAAtCS,CAAyCI,EAAW,GAAGwF,EAAWvF,EAAW,GAAGwF,EAAcxF,EAAW,GAGlV,OAAmBL,OAAOL,EAAiB,IAAxBK,CAA2B,MAAM,CAACmB,UAAU,MAAMC,SAAsBpB,OAAOL,EAAkB,KAAzBK,CAA4B,MAAM,CAACmB,UAAU,YAAYC,SAAS,CAAcpB,OAAOL,EAAiB,IAAxBK,CAA2B,KAAK,CAAC8F,MAAM,SAAS1E,SAAS,aAAawE,GAAyB5F,OAAOL,EAAkB,KAAzBK,CAA4B,OAAO,CAACmB,UAAU,QAAQM,SAHmC,SAAmBH,GAAG9B,EAAOmC,KAAK,UAExYL,EAAEI,iBAA+B,KAAX5B,GAAe+F,GAAc,IACmSzE,SAAS,CAAcpB,OAAOL,EAAiB,IAAxBK,CAA2B,QAAQ,CAACoB,SAAS,kCAA+CpB,OAAOL,EAAiB,IAAxBK,CAA2B,QAAQ,CAAC+B,MAAMjC,EAASkC,SAAS,SAAkBV,GAAG,OAAOqE,EAAYrE,EAAEW,OAAOF,UAAwB/B,OAAOL,EAAiB,IAAxBK,CAA2B,SAAS,CAACoB,SAAS,4BAA4BwE,GAAyB5F,OAAOL,EAAkB,KAAzBK,CAA4B,MAAM,CAACmB,UAAU,WAAWC,SAAS,CAAC,IAAiBpB,OAAOL,EAAiB,IAAxBK,CAA2BJ,EAAiB,CAACE,SAASA,IAAW,OAAO8F,GAAyB5F,OAAOL,EAAiB,IAAxBK,CAA2B4C,EAAiB,UAGj5BtD,EAAkB4D,EAAE6C,OAAoB/F,OAAOL,EAAiB,IAAxBK,CAA2Bb,EAAc+D,EAAE8C,WAAW,CAAC5E,SAAsBpB,OAAOL,EAAiB,IAAxBK,CAA2B0F,EAAQ,MAAMO,SAASC,eAAe,WAOpL,CAAC,CAAC,GAAG,EAAE"},"input":"(this[\"webpackJsonpcliente\"] = this[\"webpackJsonpcliente\"] || []).push([[0],{\n\n/***/ 30:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 39:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 46:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 48:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(25);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(39);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(7);\n\n// CONCATENATED MODULE: ./src/componentes/Socket.js\n//import io from 'socket.io-client';\nvar io=__webpack_require__(47);var socket=io.connect('wss://tarea-3-websocket.2021-2.tallerdeintegracion.cl',{path:'/trucks'});/* harmony default export */ var Socket = (socket);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/componentes/Chat.js\nvar Chat_Chat=function Chat(_ref){var username=_ref.username;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),mensaje=_useState2[0],setMensaje=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),mensajes=_useState4[0],setMensajes=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),trucks=_useState6[0],setTrucks=_useState6[1];var _useState7=Object(react[\"useState\"])([[]]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),positions=_useState8[0],setPosition=_useState8[1];Object(react[\"useEffect\"])(function(){//console.log('recibiendo mensajes')\nSocket.on('CHAT',function(_ref2){var date=_ref2.date,message=_ref2.message,name=_ref2.name;//console.log(name+':'+message + '->('+date+')');\nsetMensajes(mensajes.concat({date:date,message:message,name:name}));});return function(){Socket.off('CHAT');};},[mensajes]);var submit=function submit(e){e.preventDefault();//console.log({message : mensaje, name : username})\nSocket.emit('CHAT',{message:mensaje,name:username});setMensaje(\"\");};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat_todo\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Chat\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat\",children:mensajes.map(function(e,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"[\",Date(e.date),\"] -- \",e.name,\": \",e.message]})},i);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"chat_form\",onSubmit:submit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"\",children:\" Escriba su mensaje :\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{name:\"\",id:\"\",cols:\"30\",value:mensaje,onChange:function onChange(e){return setMensaje(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\" Enviar mensaje\"})]})]});};/* harmony default export */ var componentes_Chat = (Chat_Chat);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\nvar createForOfIteratorHelper = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/react-leaflet/esm/MapContainer.js\nvar MapContainer = __webpack_require__(50);\n\n// EXTERNAL MODULE: ./node_modules/react-leaflet/esm/TileLayer.js + 1 modules\nvar TileLayer = __webpack_require__(54);\n\n// EXTERNAL MODULE: ./node_modules/react-leaflet/esm/Polyline.js\nvar Polyline = __webpack_require__(51);\n\n// EXTERNAL MODULE: ./node_modules/react-leaflet/esm/Marker.js\nvar Marker = __webpack_require__(52);\n\n// EXTERNAL MODULE: ./node_modules/react-leaflet/esm/Popup.js\nvar Popup = __webpack_require__(53);\n\n// EXTERNAL MODULE: ./node_modules/leaflet/dist/leaflet-src.js\nvar leaflet_src = __webpack_require__(9);\nvar leaflet_src_default = /*#__PURE__*/__webpack_require__.n(leaflet_src);\n\n// EXTERNAL MODULE: ./src/componentes/Map.css\nvar Map = __webpack_require__(46);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(30);\n\n// CONCATENATED MODULE: ./src/componentes/minetruck.png\n/* harmony default export */ var minetruck = (__webpack_require__.p + \"static/media/minetruck.9d33f62e.png\");\n// CONCATENATED MODULE: ./src/componentes/Info.js\nvar Info_Info=function Info(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),trucks=_useState2[0],setTrucks=_useState2[1];var _useState3=Object(react[\"useState\"])([[]]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),positions=_useState4[0],setPosition=_useState4[1];var myIcon=new leaflet_src_default.a.Icon({iconUrl:minetruck,iconRetinaUrl:minetruck,popupAnchor:[-0,-0],iconSize:[32,45]});Object(react[\"useEffect\"])(function(){Socket.on('TRUCKS',function(truck){var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(truck),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var camion=_step.value;if(camion.position==undefined){camion.position=[0,0];};if(camion.status==undefined){camion.status='Unknown';};}}catch(err){_iterator.e(err);}finally{_iterator.f();}setTrucks(trucks.concat(truck));});return function(){Socket.off('TRUCKS');};},[trucks]);Object(react[\"useEffect\"])(function(){Socket.on('POSITION',function(obj){setPosition(positions.concat([{code:obj.code,position:obj.position}]));var truck=trucks.find(function(element){return element.code===obj.code;});if(truck===undefined){console.log('[POSITION] codigo camion buscado: '+obj.code);console.log(\"[POSITION]  Truck not found\");}else{truck.position=obj.position;//console.log('[POSITION]  Nueva posicion de: ' + obj.code + '<->' + obj.position);\n}});return function(){Socket.off('POSITION');};});Object(react[\"useEffect\"])(function(){Socket.on('FAILURE',function(_ref){var code=_ref.code,source=_ref.source;var truck=trucks.find(function(element){return element.code===code;});if(typeof truck==undefined){return\"Truck not found\";}else{truck.status=source;}});return function(){Socket.off('FAILURE');};});Object(react[\"useEffect\"])(function(){Socket.on('FIX',function(truck_object){var truck=trucks.find(function(element){return element.code===truck_object.code;});if(typeof truck===undefined){{console.log('[MAP] entrando a tooltip');}return\"Truck not found\";}else{truck.status='Ok';}});return function(){Socket.off('FIX');};});var truckInfo=function truckInfo(code){var truck=trucks.find(function(element){return element.code===code;});console.log('[truckInfo] entrando a la funcion con: '+truck.code);if(truck===undefined){return\"Truck not found\";}//console.log('ahora tenemos' + truck)\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"'Truck:' \",truck.truck]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"'Code: '\",truck.code]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"'Origin: '\",truck.origin,\"'\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Destination: '\",truck.destination]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"'Actual Position: '\",truck.position]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"'Status: '\",truck.status]}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{})]});};var fixTruck=function fixTruck(e){console.log('[fixTruck] Yo reparando el siguiente camion: '+e);Socket.emit('FIX',{code:e});};var changeStatus=function changeStatus(){var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(trucks),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var element=_step2.value;if(element.status==undefined||element.status==''){element.status='Ok';{console.log('[MAP] entrando a tooltip');}}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"mapArea\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(MapContainer[\"a\" /* MapContainer */],{center:[-21.976193,-68.79],zoom:11,scrollWheelZoom:false,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TileLayer[\"a\" /* TileLayer */],{attribution:\"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),trucks.map(function(dat){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Polyline[\"a\" /* Polyline */],{pathOptions:{color:'black'},positions:[dat.origin,dat.destination]})},dat.code);}),trucks.map(function(data){console.log('[MAP]: primer print posiciones'+data.code+'->'+data.position);if(data.position===undefined){console.log('[MAP] error encontrando posiciones');return'';}else{console.log('[MAP] posiciones encontradas: '+data.code+'->'+data.position);console.log('[MAP] coordinadas a imprimir: lat: '+data.position[0]+'long: '+data.position[1]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Marker[\"a\" /* Marker */],{position:[data.position[0],data.position[1]],icon:myIcon,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Popup[\"a\" /* Popup */],{children:truckInfo(data.code)})})});}})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"infoArea\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"info_titulo\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Trucks Information:\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"solo_info\",children:trucks.map(function(e,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"truckInfo_container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Truck: \",e.truck]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Code: \",e.code]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Origin: \",e.origin,\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Destination: \",e.destination,\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Status: \",e.status,\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:e.status!==('Ok'||false)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{value:e.code,onClick:function onClick(a){return fixTruck(a.target.value);},children:\"Fix Truck\"})})]})})},i);})})]})})]});};/* harmony default export */ var componentes_Info = (Info_Info);\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),registrado=_useState4[0],setRegistrado=_useState4[1];var registrar=function registrar(e){Socket.emit('TRUCKS');//console.log('Emitiendo TRUCKS')\n//console.log('el nombre de usuario es :' + username)\ne.preventDefault();if(username!==''){setRegistrado(true);//console.log('registrado = ' + registrado)\n}};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"titleArea\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{align:\"center\",children:\"Tarea 3\"}),!registrado&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"logIn\",onSubmit:registrar,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\" Escoja un nombre de usuario:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:username,onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Ingresar a la pagina\"})]}),registrado&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chatArea\",children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(componentes_Chat,{username:username}),\" \"]}),registrado&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(componentes_Info,{})]})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\n//import reportWebVitals from './reportWebVitals';\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n\n/***/ })\n\n},[[48,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/thomas/Desktop/XII Semestre/Taller de Integración/Tarea 3/tarea3-IIC3103/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/thomas/Desktop/XII Semestre/Taller de Integración/Tarea 3/tarea3-IIC3103/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/thomas/Desktop/XII Semestre/Taller de Integración/Tarea 3/tarea3-IIC3103/node_modules/postcss-loader/src/index.js??postcss!/home/thomas/Desktop/XII Semestre/Taller de Integración/Tarea 3/tarea3-IIC3103/src/App.css","/home/thomas/Desktop/XII Semestre/Taller de Integración/Tarea 3/tarea3-IIC3103/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/thomas/Desktop/XII Semestre/Taller de Integración/Tarea 3/tarea3-IIC3103/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/thomas/Desktop/XII Semestre/Taller de Integración/Tarea 3/tarea3-IIC3103/node_modules/postcss-loader/src/index.js??postcss!/home/thomas/Desktop/XII Semestre/Taller de Integración/Tarea 3/tarea3-IIC3103/src/index.css","/home/thomas/Desktop/XII Semestre/Taller de Integración/Tarea 3/tarea3-IIC3103/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/thomas/Desktop/XII Semestre/Taller de Integración/Tarea 3/tarea3-IIC3103/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/thomas/Desktop/XII Semestre/Taller de Integración/Tarea 3/tarea3-IIC3103/node_modules/postcss-loader/src/index.js??postcss!/home/thomas/Desktop/XII Semestre/Taller de Integración/Tarea 3/tarea3-IIC3103/src/componentes/Map.css","/home/thomas/Desktop/XII Semestre/Taller de Integración/Tarea 3/tarea3-IIC3103/src/componentes/Socket.js","/home/thomas/Desktop/XII Semestre/Taller de Integración/Tarea 3/tarea3-IIC3103/src/componentes/Chat.js","/home/thomas/Desktop/XII Semestre/Taller de Integración/Tarea 3/tarea3-IIC3103/node_modules/url-loader/dist/cjs.js??ref--5-oneOf-1!/home/thomas/Desktop/XII Semestre/Taller de Integración/Tarea 3/tarea3-IIC3103/src/componentes/minetruck.png","/home/thomas/Desktop/XII Semestre/Taller de Integración/Tarea 3/tarea3-IIC3103/src/componentes/Info.js","/home/thomas/Desktop/XII Semestre/Taller de Integración/Tarea 3/tarea3-IIC3103/src/App.js","/home/thomas/Desktop/XII Semestre/Taller de Integración/Tarea 3/tarea3-IIC3103/src/index.js"],"names":["io","require","socket","connect","path","Chat","username","useState","mensaje","setMensaje","mensajes","setMensajes","trucks","setTrucks","positions","setPosition","useEffect","on","date","message","name","concat","off","submit","e","preventDefault","emit","map","i","Date","target","value","Info","myIcon","L","Icon","iconUrl","minetruck","iconRetinaUrl","popupAnchor","iconSize","truck","camion","position","undefined","status","obj","code","find","element","console","log","source","truck_object","truckInfo","origin","destination","fixTruck","changeStatus","dat","color","data","a","App","setUsername","registrado","setRegistrado","registrar","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","//import io from 'socket.io-client';\n\nconst io = require(\"socket.io-client\");\n\nvar socket = io.connect('wss://tarea-3-websocket.2021-2.tallerdeintegracion.cl', {path: '/trucks'});\n\nexport default socket;","import React, {useState, useEffect} from 'react';\nimport socket from './Socket';\n\nconst Chat = ({username}) => {\n     \n    const [mensaje, setMensaje] = useState('');\n    const[mensajes, setMensajes] = useState([]);\n\n    const[trucks, setTrucks] = useState([]);\n    const[positions, setPosition] = useState([[]])\n\n\n    useEffect(() => {\n        //console.log('recibiendo mensajes')\n        socket.on('CHAT', ({date, message, name}) => {\n            //console.log(name+':'+message + '->('+date+')');\n            setMensajes(mensajes.concat({date, message, name}));\n        });\n        \n        return () => {\n            socket.off('CHAT');\n      };\n    },[mensajes]);\n\n    const submit = (e) => {\n        e.preventDefault();\n        //console.log({message : mensaje, name : username})\n        socket.emit('CHAT', {message : mensaje, name : username})\n        setMensaje(\"\");\n    }\n\n\n    return (\n\n        <div className=\"chat_todo\">\n            <div><h2>Chat</h2></div>\n            <div className=\"chat\"> \n                {mensajes.map((e,i) => <div  key={i}> \n                    <div>[{Date(e.date)}] -- {e.name}: {e.message}</div>\n                </div>)}\n            </div>\n            <form className=\"chat_form\" onSubmit={submit}>\n                <label htmlFor=\"\"> Escriba su mensaje : \n                </label>\n                <textarea name=\"\" id=\"\" cols=\"30\" value={mensaje} onChange={e => setMensaje(e.target.value)}>\n\n                </textarea>\n            <button> Enviar mensaje</button>\n\n\n            </form>\n\n        </div>\n    )\n}\n\nexport default Chat;","export default __webpack_public_path__ + \"static/media/minetruck.9d33f62e.png\";","import React, {useState, useEffect} from 'react';\nimport socket from './Socket';\nimport { MapContainer, TileLayer, Polyline, Tooltip, Marker, Circle, Popup} from 'react-leaflet';\nimport L from 'leaflet'\nimport './Map.css';\nimport './../App.css'\nimport minetruck from './minetruck.png';\n\n\nconst Info = () => {\n\n    const[trucks, setTrucks] = useState([]);\n    const[positions, setPosition] = useState([[]]);\n\n    const myIcon = new L.Icon({\n        iconUrl: minetruck,\n        iconRetinaUrl: minetruck,\n        popupAnchor:[-0,-0],\n        iconSize: [32,45]\n    })\n\n    \n    useEffect(() => {\n        socket.on('TRUCKS', truck =>{\n            for (let camion of truck){\n                if(camion.position == undefined){\n                    camion.position = [0,0];\n                };\n                if(camion.status == undefined){\n                    camion.status = 'Unknown';\n                };\n            }\n            setTrucks(trucks.concat(truck));\n        });\n        return () => {socket.off('TRUCKS')};\n    },[trucks]);\n\n    useEffect(() => {\n        socket.on( 'POSITION', (obj) => {setPosition(positions.concat([{code: obj.code, position : obj.position}]));\n        let truck  = trucks.find(element => element.code === obj.code);\n            if (truck === undefined){\n                console.log('[POSITION] codigo camion buscado: ' + obj.code)\n                console.log( \"[POSITION]  Truck not found\");\n            }\n            else{\n                truck.position = obj.position;\n                //console.log('[POSITION]  Nueva posicion de: ' + obj.code + '<->' + obj.position);\n            } \n        });\n        return () => {socket.off('POSITION')};\n    });\n\n    useEffect(() => {\n        socket.on('FAILURE', ({code, source}) => { \n            let truck  = trucks.find(element => element.code === code);\n            if (typeof(truck) == undefined){\n                return \"Truck not found\";\n            }\n            else{\n                truck.status = source;\n            }\n        });\n        return () => {socket.off('FAILURE')}\n    });\n\n    useEffect(() => {\n        socket.on('FIX', (truck_object) =>{\n            let truck  = trucks.find(element => element.code === truck_object.code);\n            if (typeof(truck) === undefined){{console.log('[MAP] entrando a tooltip')}\n                return \"Truck not found\";\n            }\n            else{\n                truck.status = 'Ok';\n            }\n        });\n        return () => {socket.off('FIX')}\n    });\n\n    const truckInfo = (code) => {\n        let truck  = trucks.find(element => element.code === code);\n        console.log('[truckInfo] entrando a la funcion con: ' + truck.code)\n        if (truck === undefined){\n            return (\"Truck not found\");\n        }\n        //console.log('ahora tenemos' + truck)\n        return (<div>\n            <p>'Truck:' {truck.truck}</p><br />\n            <p>'Code: '{truck.code}</p><br />\n            <p>'Origin: '{truck.origin}'</p><br />\n            <p>Destination: '{truck.destination}</p><br />\n            <p>'Actual Position: '{truck.position}</p><br /> \n            <p>'Status: '{truck.status}</p> <br />\n        </div>)   \n    };\n\n    const fixTruck = (e) =>{\n        console.log('[fixTruck] Yo reparando el siguiente camion: ' + e);\n        socket.emit('FIX', {code : e});\n    }\n\n    const changeStatus = () => {\n        for (let element of trucks){\n            if(element.status == undefined || element.status == ''){\n                element.status = 'Ok';{console.log('[MAP] entrando a tooltip')}\n            }\n        }\n    }\n\n    return (\n        <div>\n            <div className=\"mapArea\">\n                <MapContainer center={[-21.976193,-68.79]} zoom={11} scrollWheelZoom={false}>\n                <TileLayer\n                attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                />\n\n                {trucks.map((dat) => {\n                    return (\n                        <div key={dat.code}>\n                        <Polyline pathOptions={{color:'black'}} positions={[dat.origin, dat.destination]} />\n                        </div>\n                    )\n                })}\n                \n                {trucks.map((data) => {\n                    console.log('[MAP]: primer print posiciones' + data.code + '->'+  data.position)\n                    if(data.position === undefined){\n                        console.log('[MAP] error encontrando posiciones')\n                        return('')\n                    }\n                    else{\n                    console.log('[MAP] posiciones encontradas: '+ data.code + '->'+  data.position)\n                    console.log('[MAP] coordinadas a imprimir: lat: ' + data.position[0] + 'long: ' + data.position[1])\n                        return (\n                            <div >\n                                <Marker position={[data.position[0], data.position[1]]} icon={myIcon}>\n                                        <Popup>\n                                        {truckInfo(data.code)}                                \n                                        </Popup>\n                                </Marker>\n                            </div>\n                        )\n                    }\n                })}\n                \n                \n                \n            \n                    \n                </MapContainer>\n            </div>\n\n\n            \n        <div className=\"infoArea\">\n            <div className=\"info_titulo\">\n                <div><h2>Trucks Information:</h2></div>\n                <div className=\"solo_info\"> \n                    {trucks.map((e,i) => <div  key={i}> \n                    <div> \n                        <div className='truckInfo_container'>\n                        <div>Truck: {e.truck}</div>\n                        <div>Code: {e.code}</div>\n                        <div>Origin: {e.origin} </div>\n                        <div>Destination: {e.destination} </div>\n                        <div>Status: {e.status} </div>\n                        <div>\n                        {(e.status !== (('Ok') || ('Unknown'))) && \n                            <button value={e.code} onClick={a => fixTruck(a.target.value)}>Fix Truck</button>}\n\n\n                    </div>\n                        </div>\n                    </div>\n                    </div>)}\n                </div>\n            </div>\n        </div>\n    </div>    \n\n    )\n}\n\nexport default Info;","import React, {useState} from 'react';\nimport socket from './componentes/Socket';\nimport Chat from './componentes/Chat';\nimport Info from './componentes/Info';\nimport './App.css';\n\nfunction App() {\n\n  const [username, setUsername] = useState(\"\");\n  const [registrado, setRegistrado] = useState(false);\n\n  const registrar = (e) => {\n    socket.emit('TRUCKS');\n    //console.log('Emitiendo TRUCKS')\n    //console.log('el nombre de usuario es :' + username)\n    e.preventDefault();\n    if (username !== ''){\n      setRegistrado(true);\n      //console.log('registrado = ' + registrado)\n    }\n  }\n\n\n\n  return (\n    <div className=\"App\">\n      <div className=\"titleArea\"><h1 align=\"center\">Tarea 3</h1>\n      \n      {\n        !registrado && \n\n        <form className=\"logIn\" onSubmit={registrar}>\n          <label> Escoja un nombre de usuario:</label>\n          <input value={username} onChange={e => setUsername(e.target.value)}></input>\n          <button>Ingresar a la pagina</button>\n        </form>\n      }\n      {\n        registrado &&\n\n        <div className=\"chatArea\"> <Chat username={username}/> </div>\n      }\n\n      {\n        registrado &&\n        \n          <Info/>\n      }\n\n\n    </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n//import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n"]}}