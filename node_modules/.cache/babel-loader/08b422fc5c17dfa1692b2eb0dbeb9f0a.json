{"ast":null,"code":"import _slicedToArray from \"/home/thomas/Desktop/XII Semestre/Taller de Integraci\\xF3n/Tarea 3/tarea-3-t-schilling/cliente/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/thomas/Desktop/XII Semestre/Taller de Integraci\\xF3n/Tarea 3/tarea-3-t-schilling/cliente/src/componentes/Chat.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport socket from './Socket';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar Chat = function Chat(_ref) {\n  _s();\n\n  var username = _ref.username;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      mensaje = _useState2[0],\n      setMensaje = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      mensajes = _useState4[0],\n      setMensajes = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      trucks = _useState6[0],\n      setTrucks = _useState6[1];\n\n  var _useState7 = useState([[]]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      positions = _useState8[0],\n      setPosition = _useState8[1];\n\n  useEffect(function () {\n    console.log('recibiendo mensajes');\n    socket.on('CHAT', function (_ref2) {\n      var date = _ref2.date,\n          message = _ref2.message,\n          name = _ref2.name;\n      console.log(name + ':' + message + '->(' + date + ')');\n      setMensajes(mensajes.concat({\n        date: date,\n        message: message,\n        name: name\n      }));\n    });\n    return function () {\n      socket.off('CHAT');\n    };\n  }, [mensajes]);\n\n  var submit = function submit(e) {\n    e.preventDefault();\n    console.log({\n      message: mensaje,\n      name: username\n    });\n    socket.emit('CHAT', {\n      message: mensaje,\n      name: username\n    });\n    setMensaje(\"\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat_todo\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 18\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat\",\n      children: mensajes.map(function (e, i) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"(\", e.date, \") -- \", e.name, \": \", e.message]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 21\n          }, _this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 40\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"\",\n        children: \" Escriba su mensaje :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"\",\n        id: \"\",\n        cols: \"30\",\n        value: mensaje,\n        onChange: function onChange(e) {\n          return setMensaje(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \" Enviar mensaje\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(Chat, \"v4PgzqMcghgY6ng31elgOugeHi8=\");\n\n_c = Chat;\nexport default Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"sources":["/home/thomas/Desktop/XII Semestre/Taller de IntegraciÃ³n/Tarea 3/tarea-3-t-schilling/cliente/src/componentes/Chat.js"],"names":["React","useState","useEffect","socket","Chat","username","mensaje","setMensaje","mensajes","setMensajes","trucks","setTrucks","positions","setPosition","console","log","on","date","message","name","concat","off","submit","e","preventDefault","emit","map","i","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport socket from './Socket';\n\nconst Chat = ({username}) => {\n     \n    const [mensaje, setMensaje] = useState('');\n    const[mensajes, setMensajes] = useState([]);\n\n    const[trucks, setTrucks] = useState([]);\n    const[positions, setPosition] = useState([[]])\n\n\n    useEffect(() => {\n        console.log('recibiendo mensajes')\n        socket.on('CHAT', ({date, message, name}) => {\n            console.log(name+':'+message + '->('+date+')');\n            setMensajes(mensajes.concat({date, message, name}));\n        });\n        \n        return () => {\n            socket.off('CHAT');\n      };\n    },[mensajes]);\n\n    const submit = (e) => {\n        e.preventDefault();\n        console.log({message : mensaje, name : username})\n        socket.emit('CHAT', {message : mensaje, name : username})\n        setMensaje(\"\");\n    }\n\n\n    return (\n\n        <div className=\"chat_todo\">\n            <div><h2>Chat</h2></div>\n            <div className=\"chat\"> \n                {mensajes.map((e,i) => <div  key={i}> \n                    <div>({e.date}) -- {e.name}: {e.message}</div>\n                </div>)}\n            </div>\n            <form onSubmit={submit}>\n                <label htmlFor=\"\"> Escriba su mensaje : \n                </label>\n                <textarea name=\"\" id=\"\" cols=\"30\" value={mensaje} onChange={e => setMensaje(e.target.value)}>\n\n                </textarea>\n            <button> Enviar mensaje</button>\n\n\n            </form>\n\n        </div>\n    )\n}\n\nexport default Chat;"]},"metadata":{},"sourceType":"module"}